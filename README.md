# Usage
Make a minimalist linux OS to be run on a qemu machine.

# Build
## 1. Configure (optional)
The supported platform are defined under config/ directory.
The default configuration can be generated for one of the supported platform with this command:
```
make defconfig/qemu_x86_64
```

The command generate a default configuration which can be edited under `.${PLATFORM}.mk`.
You can skip the step 1. if you don't need to edit the config.

- Tips 1: make defconfig/ + TAB for listing all supported platforms
- Tips 2: The default config for all supported platforms can be generated with:
```
make defconfig/all
```

## 2. Source the build environment
Once configured, source your build configuration:
```
make source/x86_64
```

- Tips 1: make source/ + TAB for listing all supported platforms
- Tips 2: configuration will be autogenerated if not done.

## 3. Start the build generation
Then you can simply start the image generation with:
```
make -j15
```

It will generate a minimalist linux image which can be run under qemu.

The build is defined in 5x stages:
- download
- configure
- compile
- install
- release

The stages for each components are defined in the rules/ directory.
Each componant can be also built individually for debugging purpose.

Tips:
- make output/${PLATFORM}/ + TAB for listing all components
- make output/${PLATFORM}/${COMPONENT}/(clean|download|configure|compile|mkpackage|install||release) for available actions

## 4. Run the linux image with qemu:
```
make runqemu
```

## 5. SSH into qemu:
```
make ssh
```

# Build all
To build all available platforms in parallel:
```
make build/all
```
